<template>
<div id="tendencyChartContainerId">
	<div id="tendencyChartHistoryData">
	</div>

	<!--
    <div id="showcontent" style="height:15%;width:100%;padding-top:5px;box-sizing:border-box;">
		<div style="height:40px;width:35%;padding-top:12px;float:left;padding-left: 30px;font-size:14px;">
			<div style="width:15px;height:15px;background-color:#AACFF3;float:left;margin-right: 5px;position: relative;top: 1px;">
			</div>
			<div id="indexItemNameId">&nbsp;</div>
		</div>
		<div style="height:40px;width:40%;margin:0px auto;float:right;">
			<div style="height:20px;width:100%;float:left;">
				<div style="height:20px;width:50%;float:left;">
					最大:
					<span style="line-height:26px;" id="max">
					</span>
				</div>
				<div style="height:20px;width:50%;float:left;">
					最小:
					<span style="line-height:26px;" id="min">
					</span>
				</div>
			</div>
			<div style="height:20px;width:100%;float:left;">
				<div style="height:20px;width:50%;float:left;">
					最新:
					<span style="line-height:26px;" id="latest">
					</span>
				</div>
				<div style="height:20px;width:50%;float:left;">
					平均:
					<span style="line-height:26px;" id="avg">
					</span>
				</div>
			</div>
		</div>
    </div>
    -->
</div>
</template>

<style type="text/css" scoped>
	#ums-netTopo-index >>> .el-dialog__header{
		padding: 10px 20px 0;
	}
</style>

<script>
 /* eslint-disable */
var $ = require('jquery')
import rbProjectDataServiceFactory from 'src/services/template/rb-template-services.factory.js'

export default {
    name: 'tendencyChart',
    data: function () {
        return {
            rowParam: {}
        }
    },
    mounted: function () {
        this.queryData()//第一次初始化数据
    },
    methods: {
        queryData: function () { //推送日志记录查询
            this.$emit('setDialogParam')
            $('#tendencyChartHistoryData').html('')//清空图表
            //var contentHtml = '<div style="height:20px;width:35%;padding-top:15px;float:left;padding-left: 30px;font-size:14px;"><div style="width:15px;height:15px;background-color:#AACFF3;float:left;margin-right: 5px;"></div>'+
            //itemname+'</div><div style="height:40px;width:60%;margin:0px auto;float:left;"><div style="height:20px;width:100%;float:left;"><div style="height:20px;width:50%;float:left;">最大:<span style="line-height:26px;"id="max"></span></div><div style="height:20px;width:50%;float:left;">最小:<span style="line-height:26px;"id="min"></span></div></div><div style="height:20px;width:100%;float:left;"><div style="height:20px;width:50%;float:left;">最新:<span style="line-height:26px;"id="latest"></span></div><div style="height:20px;width:50%;float:left;">平均:<span style="line-height:26px;"id="avg"></span></div></div></div>';
            //$("#showcontent").html(contentHtml+"<br><br>");
            //var suburls='/ums/sysReport/getHistoryByItem.action?url='+url+'&username='+username+'&password='+password+'&itemId='+itemId+'&timeType=week';
            //suburls = this.utilHelper.getTokenUrl(suburls);
		  //$("#indexItemNameId").text(this.rowParam.itemName);
            // var father = this
            var Highcharts = require('highcharts/highstock')
            // 加载 地图 模块
            require('highcharts/modules/map')(Highcharts)
            Highcharts.setOptions({
                global: { useUTC: false },
                lang: {rangeSelectorZoom: '',
                    loading: '数据加载中...',
                    months: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],
                    shortMonths: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],
                    weekdays: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']
                }
            })
            var chart = Highcharts.stockChart('tendencyChartHistoryData', {
                chart: {
                    type: 'area'
                    //margin: [10,10,0,100],
                    //spacing: [0,0,0,0]
                },
                title: {
                    text: '',
                    float: true
                },
                credits: {
                    enabled: false
                },
                navigator: {
                    //height: 20,
                    maskFill: '#EBF3F7',
                    adaptToUpdatedData: true,
                    series: {
                        type: 'area',
                        color: '#4572A7',
                        fillOpacity: 0,
                        dataGrouping: {
                            enabled: true
                        },
                        lineWidth: 0,
                        marker: {
                            enabled: false
                        }
                    },
                    xAxis: {
                        dateTimeLabelFormats: {
                            millisecond: '%H:%M:%S.%L',
                            second: '%H:%M:%S',
                            minute: '%H:%M',
                            hour: '%H:%M',
                            day: '%m-%d',
                            week: '%m-%d',
                            month: '%Y-%m',
                            year: '%Y'
                        },
                        labels: {
                            align: 'center'
                        },
                        handles: {
                            backgroundColor: '#e2eaf9'
                        }
                    }
                },
                rangeSelector: {
                    buttonPosition: {
                        align: 'right'
                    },
                    selected: 0,
                    inputEnabled: false,
                    /*
                  buttons: [{
                    type: 'hour',
                    count: 1,
                    text: '1时'
                  }, {
                    type: 'hour',
                    count: 2,
                    text: '2时'
                  }, {
                    type: 'hour',
                    count: 3,
                    text: '3时'
                  }, {
                    type: 'hour',
                    count: 6,
                    text: '6时'
                  }, {
                    type: 'hour',
                    count: 12,
                    text: '12时'
                  }, {
                    type: 'day',
                    count: 1,
                    text: '1天'
                  }, {
                    type: 'day',
                    count: 7,
                    text: '7天'
                  }, {
                    type: 'day',
                    count: 14,
                    text: '14天'
                  }, {
                    type: 'month',
                    count: 1,
                    text: '1月'
                  },{
                    type: 'all',
                    text: '所有'
                  }]*/
                    buttons: [{
                        type: 'hour',
                        count: 1,
                        text: '1h'
                    }, {
                        type: 'hour',
                        count: 2,
                        text: '2h'
                    }, {
                        type: 'hour',
                        count: 3,
                        text: '3h'
                    }, {
                        type: 'hour',
                        count: 6,
                        text: '6h'
                    }, {
                        type: 'hour',
                        count: 12,
                        text: '12h'
                    }, {
                        type: 'hour',
                        count: 24,
                        text: '24h'
                    }]
                },
                xAxis: {
                    minPadding: 0.3,
                    type: 'datetime',
                    showLastLabel: true,
                    /*tickInterval: 24 * 3600 * 1000,
              minTickInterval: 24 * 3600 * 1000,*/
                    events: {
                        afterSetExtremes: function(e) {
                            let rowParamTmp = window.tmprowParam

                            let rowParam = {}
                            rowParam.indexName = rowParamTmp.indexName
                            rowParam.jkzbCode = rowParamTmp.jkzbCode
                            rowParam['timeType'] = 'statis'
                            rowParam['start'] = e.min
                            rowParam['end'] = e.max
                            //window.tmpVueThis.$http.get(window.tmpVueThis.$apiUrl.thematicHistoryInfo,  {params: rowParam}).then((res) => {

                            //});
                        }
                    },
                    labels: {
                        autoRotation: [-10, -20, -30, -40, -50, -60]

                    },
                    dateTimeLabelFormats: {
                        millisecond: '%H:%M:%S.%L',
                        second: '%H:%M:%S',
                        minute: '%H:%M',
                        hour: '%H:%M',
                        day: '%m-%d',
                        week: '%m-%d',
                        month: '%Y-%m',
                        year: '%Y'
                    }
                },
                tooltip: {
                    dateTimeLabelFormats: {
                        millisecond: '%H:%M:%S.%L',
                        second: '%H:%M:%S',
                        minute: '%H:%M',
                        hour: '%H:%M',
                        day: '%m-%d',
                        week: '%m-%d',
                        month: '%Y-%m',
                        year: '%Y'
                    },
                    pointFormatter: function() {
                        if (window.isAllZero && window.isAllZero == true) {
                            return '指标值:0'
					  }

					  try {
						  if (this.y == 0.0866) {
                                return '指标值:0'
						  }
                            let resInfo = '指标值:' + this.y
                            let posIndex = resInfo.lastIndexOf('.')
                            if (posIndex > 0) {
                                let subResInfo = resInfo.substring(posIndex)
                                if (subResInfo && subResInfo.length > 3) {
                                    return resInfo.substring(0, posIndex) + subResInfo.substring(0, 3)
                                }
                            }
                            return '指标值:' + this.y
					  } catch (e) {
                            return '指标值:' + this.y
					  }
                    }
                },
                yAxis: {
                    title: {
                        text: '',
                        floating: true
                    },
                    // labels:{
                    //   format: '{value:.,0f}',

                    // },
                    labels: {
                        formatter: function() {
                            if (window.isAllZero && window.isAllZero == true) {
                                return '0'
					  }

                            let resInfo = this.value + ''
                            let posIndex = resInfo.lastIndexOf('.')
                            if (posIndex > 0) {
                                let subResInfo = resInfo.substring(posIndex)
                                if (subResInfo && subResInfo.length > 5) {
                                    resInfo = resInfo.substring(0, posIndex) + subResInfo.substring(0, 5)
                                }
                            }
					  if (resInfo == 0.0866) {
                                return '0'
					  }
					  if (resInfo <= 0.01) {
                                return '0'
					  }
					  return this.value
                        }
                    },
                    type: 'logarithmic',
                    opposite: false,
                    showLastLabel: true,
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#808080'
                    }]
                },
                legend: {
                    enabled: false
                },
                plotOptions: {
                    area: {
                        fillColor: {
                            linearGradient: {
                                x1: 0,
                                y1: 0,
                                x2: 0,
                                y2: 1
                            },
                            stops: [
                                [0, Highcharts.getOptions().colors[0]],
                                [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                            ]
                        },
                        marker: {
                            radius: 2
                        },
                        lineWidth: 1,
                        states: {
                            hover: {
                                lineWidth: 1
                            }
                        },
                        threshold: null
                    }
                },
                series: [{name: '指标值', connectNulls: true, data: []}]
            }, function (chart) {
            })
            chart.showLoading()
            window.tmprowParam = this.rowParam
            window.tmpVueThis = this

            let rowParam = {}
            rowParam.index_name = this.rowParam.index_name
            rowParam.theme_code = this.rowParam.theme_code
            rowParam.last_up_time_str = this.rowParam.last_up_Time1
            rowParam.start = '0'
            rowParam.end = '0'
            rbProjectDataServiceFactory.getThemeEcharts(rowParam).then((res) => {
                //let resInfoJson = {"lstDetail":[[1532847300000,8.95],[1532847300000,1.94],[1532847600000,1.96],[1532847600000,9.28],[1532847900000,8.95],[1532847900000,1.92],[1532848200000,8.98],[1532848200000,1.87],[1532848500000,1.9],[1532848500000,9.01],[1532848800000,8.95],[1532848800000,1.85],[1532849100000,1.81],[1532849100000,8.99],[1532849400000,8.99],[1532849400000,1.88],[1532849700000,2.01],[1532849700000,9.01],[1532850000000,8.99],[1532850000000,1.9],[1532850300000,8.99],[1532850300000,1.83],[1532850600000,8.97],[1532850600000,1.92],[1532850900000,1.96],[1532850900000,9.15],[1532851200000,1.98],[1532851200000,9.07],[1532851500000,8.9],[1532851500000,1.78],[1532851800000,8.88],[1532851800000,1.8],[1532852100000,1.93],[1532852100000,9.07],[1532852400000,1.87],[1532852400000,8.93],[1532852700000,2.0],[1532852700000,9.18],[1532853000000,2.0],[1532853000000,9.01],[1532853300000,2.09],[1532853300000,9.19],[1532853600000,8.96],[1532853600000,1.89],[1532853900000,1.89],[1532853900000,9.04],[1532854200000,1.85],[1532854200000,8.87],[1532854500000,1.94],[1532854500000,9.12],[1532854800000,8.97],[1532854800000,1.89],[1532855100000,8.96],[1532855100000,1.93],[1532855400000,1.96],[1532855400000,9.16],[1532855700000,1.96],[1532855700000,9.11],[1532856000000,1.89],[1532856000000,8.92],[1532856300000,1.94],[1532856300000,9.11],[1532856600000,1.91],[1532856600000,9.01],[1532856900000,9.05],[1532856900000,2.08],[1532857200000,9.16],[1532857200000,2.15],[1532857500000,2.26],[1532857500000,9.22],[1532857800000,9.34],[1532857800000,2.28],[1532858100000,2.2],[1532858100000,9.15],[1532858400000,9.38],[1532858400000,2.34],[1532858700000,2.34],[1532858700000,9.35],[1532859000000,2.13],[1532859000000,9.18],[1532859300000,1.94],[1532859300000,9.1],[1532859600000,1.91],[1532859600000,8.99],[1532859900000,9.07],[1532859900000,1.91],[1532860200000,8.98],[1532860200000,1.9],[1532860500000,2.07],[1532860500000,9.05],[1532860800000,1.97],[1532860800000,9.05],[1532861100000,8.96],[1532861100000,1.84],[1532861400000,1.85],[1532861400000,8.89],[1532861700000,8.98],[1532861700000,1.89],[1532862000000,1.86],[1532862000000,8.96],[1532862300000,1.83],[1532862300000,8.96],[1532862600000,8.83],[1532862600000,1.8],[1532862900000,1.94],[1532862900000,9.08],[1532863200000,1.93],[1532863200000,8.86],[1532863500000,1.87],[1532863500000,9.02],[1532863800000,1.87],[1532863800000,8.93],[1532864100000,8.93],[1532864100000,1.97],[1532864400000,1.83],[1532864400000,8.85],[1532864700000,9.02],[1532864700000,1.85],[1532865000000,1.88],[1532865000000,8.9],[1532865300000,9.06],[1532865300000,1.96],[1532865600000,1.92],[1532865600000,8.96],[1532865900000,8.97],[1532865900000,1.93],[1532866200000,1.93],[1532866200000,9.08],[1532866500000,1.96],[1532866500000,8.97],[1532866800000,2.05],[1532866800000,9.13],[1532867100000,1.88],[1532867100000,8.97],[1532867400000,8.89],[1532867400000,1.89],[1532867700000,2.06],[1532867700000,9.06],[1532868000000,8.98],[1532868000000,1.9],[1532868300000,9.08],[1532868300000,1.98],[1532868600000,2.0],[1532868600000,9.06],[1532868900000,1.98],[1532868900000,8.98],[1532869200000,1.97],[1532869200000,9.08],[1532869500000,1.99],[1532869500000,9.03],[1532869800000,1.95],[1532869800000,9.13],[1532870100000,8.98],[1532870100000,1.98],[1532870400000,1.96],[1532870400000,9.11],[1532870700000,8.97],[1532870700000,1.96],[1532871000000,9.09],[1532871000000,1.94],[1532871300000,2.05],[1532871300000,8.93],[1532871600000,1.89],[1532871600000,9.03],[1532871900000,1.8],[1532871900000,8.79],[1532872200000,1.7],[1532872200000,8.81],[1532872500000,1.52],[1532872500000,8.6],[1532872800000,1.56],[1532872800000,8.54],[1532873100000,1.65],[1532873100000,8.69],[1532873400000,8.73],[1532873400000,1.62],[1532873700000,8.58],[1532873700000,1.59],[1532874000000,1.61],[1532874000000,8.72],[1532874300000,1.63],[1532874300000,8.57],[1532874600000,8.76],[1532874600000,1.61],[1532874900000,1.67],[1532874900000,8.48],[1532875200000,1.57],[1532875200000,8.71],[1532875500000,8.34],[1532875500000,1.41],[1532875800000,1.41],[1532875800000,8.42],[1532876100000,8.41],[1532876100000,1.47],[1532876400000,8.8],[1532876400000,1.71],[1532876700000,1.95],[1532876700000,8.92],[1532877000000,9.02],[1532877000000,1.94],[1532877300000,1.96],[1532877300000,9.04],[1532877600000,2.01],[1532877600000,8.96],[1532877900000,9.28],[1532877900000,1.99],[1532878200000,1.91],[1532878200000,8.93],[1532878500000,2.07],[1532878500000,9.02],[1532878800000,1.92],[1532878800000,8.96],[1532879100000,9.06],[1532879100000,1.96],[1532879400000,8.95],[1532879400000,1.92],[1532879700000,9.06],[1532879700000,1.93],[1532880000000,1.99],[1532880000000,9.03],[1532880300000,1.96],[1532880300000,9.1],[1532880600000,9.16],[1532880600000,1.97],[1532880900000,1.96],[1532880900000,8.94],[1532881200000,9.03],[1532881200000,1.89],[1532881500000,1.89],[1532881500000,8.87],[1532881800000,8.93],[1532881800000,1.82],[1532882100000,1.92],[1532882100000,8.76],[1532882400000,8.85],[1532882400000,1.71],[1532882700000,1.67],[1532882700000,8.63],[1532883000000,1.81],[1532883000000,8.97],[1532883300000,1.78],[1532883300000,8.77],[1532883600000,8.93],[1532883600000,1.8],[1532883900000,1.74],[1532883900000,8.75],[1532884200000,1.7],[1532884200000,8.74],[1532884500000,1.72],[1532884500000,8.83],[1532884800000,8.69],[1532884800000,1.68],[1532885100000,8.78],[1532885100000,1.7],[1532885400000,1.71],[1532885400000,8.75],[1532885700000,8.75],[1532885700000,1.81],[1532886000000,8.6],[1532886000000,1.65],[1532886300000,1.7],[1532886300000,8.84],[1532886600000,8.69],[1532886600000,1.71],[1532886900000,8.83],[1532886900000,1.72],[1532887200000,8.7],[1532887200000,1.69],[1532887500000,1.61],[1532887500000,8.71],[1532887800000,1.61],[1532887800000,8.6],[1532888100000,1.63],[1532888100000,8.72],[1532888400000,1.61],[1532888400000,8.64],[1532888700000,1.62],[1532888700000,8.71],[1532889000000,8.61],[1532889000000,1.62],[1532889300000,1.73],[1532889300000,8.69],[1532889600000,1.62],[1532889600000,8.62],[1532889900000,8.71],[1532889900000,1.61],[1532890200000,8.67],[1532890200000,1.67],[1532890500000,8.76],[1532890500000,1.65],[1532890800000,8.71],[1532890800000,1.68],[1532891100000,8.68],[1532891100000,1.62],[1532891400000,2.29],[1532891400000,56.79],[1532891700000,64.76],[1532891700000,2.48],[1532892000000,70.99],[1532892000000,2.5],[1532892300000,2.76],[1532892300000,98.37],[1532892600000,2.73],[1532892600000,92.72],[1532892900000,2.45],[1532892900000,47.69],[1532893200000,46.27],[1532893200000,2.29],[1532893500000,49.43],[1532893500000,2.34],[1532893800000,86.02],[1532893800000,2.65],[1532894100000,2.24],[1532894100000,55.41],[1532894400000,1.67],[1532894400000,8.66],[1532894700000,1.58],[1532894700000,8.68],[1532895000000,1.59],[1532895000000,8.63],[1532895300000,1.62],[1532895300000,8.58],[1532895600000,1.62],[1532895600000,8.74],[1532895900000,1.62],[1532895900000,8.59],[1532896200000,1.64],[1532896200000,8.78],[1532896500000,8.58],[1532896500000,1.75],[1532896800000,8.78],[1532896800000,1.65],[1532897100000,1.68],[1532897100000,8.64],[1532897400000,8.74],[1532897400000,1.66],[1532897700000,8.79],[1532897700000,1.68],[1532898000000,1.66],[1532898000000,8.64],[1532898300000,1.64],[1532898300000,8.86],[1532898600000,1.58],[1532898600000,8.78],[1532898900000,1.59],[1532898900000,8.58],[1532899200000,8.65],[1532899200000,1.62],[1532899500000,1.62],[1532899500000,8.65],[1532899800000,8.77],[1532899800000,1.62],[1532900100000,8.56],[1532900100000,1.74],[1532900400000,1.16],[1532900400000,8.15],[1532900700000,1.16],[1532900700000,8.18],[1532901000000,8.23],[1532901000000,1.18],[1532901300000,8.06],[1532901300000,1.15],[1532901600000,8.31],[1532901600000,1.19],[1532901900000,1.14],[1532901900000,8.04],[1532902200000,8.16],[1532902200000,1.15],[1532902500000,8.2],[1532902500000,1.15],[1532902800000,1.44],[1532902800000,8.38],[1532903100000,8.76],[1532903100000,1.62],[1532903400000,8.69],[1532903400000,1.67],[1532903700000,1.78],[1532903700000,8.71],[1532904000000,8.71],[1532904000000,1.67],[1532904300000,1.7],[1532904300000,8.8],[1532904600000,1.73],[1532904600000,8.72],[1532904900000,1.76],[1532904900000,8.85],[1532905200000,1.74],[1532905200000,8.79],[1532905500000,8.74],[1532905500000,1.72],[1532905800000,8.77],[1532905800000,1.7],[1532906100000,1.73],[1532906100000,8.83],[1532906400000,1.7],[1532906400000,8.7],[1532906700000,8.71],[1532906700000,1.72],[1532907000000,1.77],[1532907000000,8.92],[1532907300000,1.86],[1532907300000,8.76],[1532907600000,8.88],[1532907600000,1.72],[1532907900000,1.72],[1532907900000,8.69],[1532908200000,1.37],[1532908200000,8.41],[1532908500000,1.28],[1532908500000,8.28],[1532908800000,8.4],[1532908800000,1.27],[1532909100000,1.21],[1532909100000,8.12],[1532909400000,1.28],[1532909400000,8.41],[1532909700000,8.7],[1532909700000,1.7],[1532910000000,8.72],[1532910000000,1.6],[1532910300000,1.48],[1532910300000,8.42],[1532910600000,8.55],[1532910600000,1.39],[1532910900000,1.41],[1532910900000,8.23],[1532911200000,1.38],[1532911200000,8.5],[1532911500000,8.33],[1532911500000,1.35],[1532911800000,8.32],[1532911800000,1.24],[1532912100000,8.21],[1532912100000,1.25],[1532912400000,1.24],[1532912400000,8.32],[1532912700000,8.35],[1532912700000,1.4],[1532913000000,1.31],[1532913000000,8.44],[1532913300000,1.33],[1532913300000,8.34],[1532913600000,1.57],[1532913600000,8.74],[1532913900000,1.59],[1532913900000,8.6],[1532914200000,1.51],[1532914200000,8.7],[1532914500000,8.43],[1532914500000,1.63],[1532914800000,8.67],[1532914800000,1.49],[1532915100000,1.46],[1532915100000,8.58],[1532915400000,1.54],[1532915400000,8.55],[1532915700000,8.68],[1532915700000,1.56],[1532916000000,1.51],[1532916000000,8.56],[1532916300000,1.46],[1532916300000,8.54],[1532916600000,1.51],[1532916600000,8.59],[1532916900000,1.5],[1532916900000,8.65],[1532917200000,8.64],[1532917200000,5.04],[1532917500000,1.52],[1532917500000,8.58],[1532917800000,8.5],[1532917800000,1.48],[1532918100000,8.56],[1532918100000,1.61],[1532918400000,1.64],[1532918400000,8.72],[1532918700000,8.68],[1532918700000,1.58],[1532919000000,1.56],[1532919000000,8.7],[1532919300000,8.59],[1532919300000,1.61],[1532919600000,8.78],[1532919600000,1.59],[1532919900000,8.61],[1532919900000,1.58],[1532920200000,1.58],[1532920200000,8.6],[1532920500000,8.8],[1532920500000,1.62],[1532920800000,1.65],[1532920800000,8.64],[1532921100000,8.78],[1532921100000,1.65],[1532921400000,8.74],[1532921400000,1.67],[1532921700000,8.87],[1532921700000,1.83],[1532922000000,1.68],[1532922000000,8.93],[1532922300000,1.68],[1532922300000,8.83],[1532922600000,1.73],[1532922600000,8.86],[1532922900000,1.76],[1532922900000,8.83],[1532923200000,8.85],[1532923200000,1.78],[1532923500000,1.73],[1532923500000,8.88],[1532923800000,1.67],[1532923800000,8.74],[1532924100000,1.71],[1532924100000,8.86],[1532924400000,8.72],[1532924400000,1.7],[1532924700000,8.9],[1532924700000,1.72],[1532925000000,1.7],[1532925000000,8.73],[1532925300000,8.85],[1532925300000,1.85],[1532925600000,1.76],[1532925600000,8.8],[1532925900000,8.88],[1532925900000,1.71],[1532926200000,1.78],[1532926200000,8.79],[1532926500000,8.95],[1532926500000,1.81],[1532926800000,8.85],[1532926800000,1.79],[1532927100000,8.85],[1532927100000,1.76],[1532927400000,8.81],[1532927400000,1.7],[1532927700000,8.8],[1532927700000,1.7],[1532928000000,8.73],[1532928000000,1.71],[1532928300000,8.77],[1532928300000,1.68],[1532928600000,1.71],[1532928600000,8.87],[1532928900000,1.86],[1532928900000,8.73],[1532929200000,1.74],[1532929200000,8.92],[1532929500000,1.7],[1532929500000,8.76],[1532929800000,1.72],[1532929800000,8.83],[1532930100000,8.68],[1532930100000,1.64],[1532930400000,1.75],[1532930400000,8.94],[1532930700000,8.73],[1532930700000,1.71],[1532931000000,8.86],[1532931000000,1.69],[1532931300000,8.75],[1532931300000,1.7],[1532931600000,1.77],[1532931600000,8.99],[1532931900000,1.74],[1532931900000,8.75],[1532932200000,8.93],[1532932200000,1.71],[1532932500000,1.9],[1532932500000,8.74],[1532932800000,8.79],[1532932800000,1.69],[1532933100000,1.71],[1532933100000,8.88],[1532933400000,1.73],[1532933400000,8.81],[1532933700000,8.94],[1532933700000,1.77]]};
                //let resInfoJson = {"lstDetail":[[1532913900000,0.0],[1532914200000,0.0],[1532914500000,0.0],[1532914800000,0.0],[1532915100000,0.0],[1532915400000,0.0],[1532915700000,0.0],[1532916000000,0.0],[1532916300000,0.0],[1532916600000,0.0],[1532916900000,0.0],[1532917200000,0.0],[1532917500000,0.0],[1532917800000,0.0],[1532918100000,0.0],[1532918400000,0.0],[1532918700000,0.0],[1532919000000,0.0],[1532919300000,0.0],[1532919600000,0.0],[1532919900000,0.0],[1532920200000,0.0],[1532920500000,0.0],[1532920800000,0.0],[1532921100000,0.0],[1532921400000,0.0],[1532921700000,0.0],[1532922000000,0.0],[1532922300000,0.0],[1532922600000,0.0],[1532922900000,0.0],[1532923200000,0.0],[1532923500000,0.0],[1532923800000,0.0],[1532924100000,0.0],[1532924400000,0.0],[1532924700000,0.0],[1532925000000,0.0],[1532925300000,0.0],[1532925600000,0.0],[1532925900000,0.0],[1532926200000,0.0],[1532926500000,0.0],[1532926800000,0.0],[1532927100000,0.0],[1532927400000,0.0],[1532927700000,0.0],[1532928000000,0.0],[1532928300000,0.0],[1532928600000,0.0],[1532928900000,0.0],[1532929200000,0.0],[1532929500000,0.0],[1532929800000,0.0],[1532930100000,0.0],[1532930400000,0.0],[1532930700000,0.0],[1532931000000,0.0],[1532931300000,0.0],[1532931600000,0.0],[1532931900000,0.0],[1532932200000,0.0],[1532932500000,0.0],[1532932800000,0.0],[1532933100000,0.0],[1532933400000,0.0],[1532933700000,0.0],[1532934000000,0.0],[1532934300000,0.0],[1532934600000,0.0],[1532934900000,0.0],[1532935200000,0.0],[1532935500000,0.0],[1532935800000,0.0],[1532936100000,0.0],[1532936400000,0.0],[1532936700000,0.0],[1532937000000,0.0],[1532937300000,0.0],[1532937600000,0.0],[1532937900000,0.0],[1532938200000,0.0],[1532938500000,0.0],[1532938800000,0.0],[1532939100000,0.0],[1532939400000,0.0],[1532939700000,0.0],[1532940000000,0.0],[1532940300000,0.0],[1532940600000,0.0],[1532940900000,0.0],[1532941200000,0.0],[1532941500000,0.0],[1532941800000,0.0],[1532942100000,0.0],[1532942400000,0.0],[1532942700000,0.0],[1532943000000,0.0],[1532943300000,0.0],[1532943600000,0.0],[1532943900000,0.0],[1532944200000,0.0],[1532944500000,0.0],[1532944800000,0.0],[1532945100000,0.0],[1532945400000,0.0],[1532945700000,0.0],[1532946000000,0.0],[1532946300000,0.0],[1532946600000,0.0],[1532946900000,0.0],[1532947200000,0.0],[1532947500000,0.0],[1532947800000,0.0],[1532948100000,0.0],[1532948400000,0.0],[1532948700000,0.0],[1532949000000,0.0],[1532949300000,0.0],[1532949600000,0.0],[1532949900000,0.0],[1532950200000,0.0],[1532950500000,0.0],[1532950800000,0.0],[1532951100000,0.0],[1532951400000,0.0],[1532951700000,0.0],[1532952000000,0.0],[1532952300000,0.0],[1532952600000,0.0],[1532952900000,0.0],[1532953200000,0.0],[1532953500000,0.0],[1532953800000,0.0],[1532954100000,0.0],[1532954400000,0.0],[1532954700000,0.0],[1532955000000,0.0],[1532955300000,0.0],[1532955600000,0.0],[1532955900000,0.0],[1532956200000,0.0],[1532956500000,0.0],[1532956800000,0.0],[1532957100000,0.0],[1532957400000,0.0],[1532957700000,0.0],[1532958000000,0.0],[1532958300000,0.0],[1532958600000,0.0],[1532958900000,0.0],[1532959200000,0.0],[1532959500000,0.0],[1532959800000,0.0],[1532960100000,0.0],[1532960400000,0.0],[1532960700000,0.0],[1532961000000,0.0],[1532961300000,0.0],[1532961600000,0.0],[1532961900000,0.0],[1532962200000,0.0],[1532962500000,0.0],[1532962800000,0.0],[1532963100000,0.0],[1532963400000,0.0],[1532963700000,0.0],[1532964000000,0.0],[1532964300000,0.0],[1532964600000,0.0],[1532964900000,0.0],[1532965200000,0.0],[1532965500000,0.0],[1532965800000,0.0],[1532966100000,0.0],[1532966400000,0.0],[1532966700000,0.0],[1532967000000,0.0],[1532967300000,0.0],[1532967600000,0.0],[1532967900000,0.0],[1532968200000,0.0],[1532968500000,0.0],[1532968800000,0.0],[1532969100000,0.0],[1532969400000,0.0],[1532969700000,0.0],[1532970000000,0.0],[1532970300000,0.0],[1532970600000,0.0],[1532970900000,0.0],[1532971200000,0.0],[1532971500000,0.0],[1532971800000,0.0],[1532972100000,0.0],[1532972400000,0.0],[1532972700000,0.0],[1532973000000,0.0],[1532973300000,0.0],[1532973600000,0.0],[1532973900000,0.0],[1532974200000,0.0],[1532974500000,0.0],[1532974800000,0.0],[1532975100000,0.0],[1532975400000,0.0],[1532975700000,0.0],[1532976000000,0.0],[1532976300000,0.0],[1532976600000,0.0],[1532976900000,0.0],[1532977200000,0.0],[1532977500000,0.0],[1532977800000,0.0],[1532978100000,0.0],[1532978400000,0.0],[1532978700000,0.0],[1532979000000,0.0],[1532979300000,0.0],[1532979600000,0.0],[1532979900000,0.0],[1532980200000,0.0],[1532980500000,0.0],[1532980800000,0.0],[1532981100000,0.0],[1532981400000,0.0],[1532981700000,0.0],[1532982000000,0.0],[1532982300000,0.0],[1532982600000,0.0],[1532982900000,0.0],[1532983200000,0.0],[1532983500000,0.0],[1532983800000,0.0],[1532984100000,0.0],[1532984400000,0.0],[1532984700000,0.0],[1532985000000,0.0],[1532985300000,0.0],[1532985600000,0.0],[1532985900000,0.0],[1532986200000,0.0],[1532986500000,0.0],[1532986800000,0.0],[1532987100000,0.0],[1532987400000,0.0],[1532987700000,0.0],[1532988000000,0.0],[1532988300000,0.0],[1532988600000,0.0],[1532988900000,0.0],[1532989200000,0.0],[1532989500000,0.0],[1532989800000,0.0],[1532990100000,0.0],[1532990400000,0.0],[1532990700000,0.0],[1532991000000,0.0],[1532991300000,0.0],[1532991600000,0.0],[1532991900000,0.0],[1532992200000,0.0],[1532992500000,0.0],[1532992800000,0.0],[1532993100000,0.0],[1532993400000,0.0],[1532993700000,0.0],[1532994000000,0.0],[1532994300000,0.0],[1532994600000,0.0],[1532994900000,0.0],[1532995200000,0.0],[1532995500000,0.0],[1532995800000,0.0],[1532996100000,0.0],[1532996400000,0.0],[1532996700000,0.0],[1532997000000,0.0],[1532997300000,0.0],[1532997600000,0.0],[1532997900000,0.0],[1532998200000,0.0],[1532998500000,0.0],[1532998800000,0.0],[1532999100000,0.0],[1532999400000,0.0],[1532999700000,0.0],[1533000000000,0.0],[1533000300000,0.0]]};
                var lstDetail = res.lstDetail

                /*
				$.each(lstDetail, function(index, item) {
					item[1]=0.0;
				}.bind(this));		*/

                let zeroArr = [0]
                $.each(lstDetail, function(index, item) {
                    if (zeroArr[0] != item[1]) {
                        zeroArr.push(item[1])
                    }
                })

                //说明都是为0
                window.isAllZero = false
                if (zeroArr.length == 1 && zeroArr[0] == 0) {
                    window.isAllZero = true
                    //所有数据都为0值时赋值为0.0866
                    $.each(lstDetail, function(index, item) {
                        item[1] = 0.0866
                    })
                }

				  if (!window.isAllZero) {
                    //所有为0的数据都赋值为0.0866
                    $.each(lstDetail, function(index, item) {
                        if (item[1] === 0.0) {
                            item[1] = 0.0866
                        }
                    })
				  }

                var seriesDatas = [{name: '指标值', connectNulls: true, data: lstDetail}]
                chart.hideLoading()
                chart.update({
                    yAxis: {
                        labels: {
                            //formatter: function() {
                            //return this.value + res.body.units;
                            //}
                        }
                    },
                    series: seriesDatas
                })
            })
        }
    }
}
</script>
